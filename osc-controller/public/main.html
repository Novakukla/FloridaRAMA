<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OSC Control Hub</title>
  <style>
    :root { --bg:#f7f7f7; --card:#fff; --text:#111; --muted:#666; --blue:#007bff; --green:#28a745; --yellow:#ffc107; }
    *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;text-rendering:optimizeLegibility;background:var(--bg);color:var(--text)}
    header{padding:18px 16px;text-align:center;background:var(--card);box-shadow:0 1px 6px rgba(0,0,0,.06);position:sticky;top:0}
    h1{margin:0;font-size:20px}
    main{padding:16px;max-width:640px;margin:0 auto;display:grid;gap:16px}
    .section{background:var(--card);border:1px solid #e7e7e7;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);padding:16px}
    .section h2{margin:0 0 12px;font-size:16px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .tile{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px;border-radius:12px;border:1px solid #e7e7e7;background:#fff;text-decoration:none;color:inherit;box-shadow:0 1px 4px rgba(0,0,0,.05);transition:transform .06s ease, box-shadow .12s ease}
    .tile:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.08)}
    .tile .title{font-weight:600;margin-top:6px}
    .actions{display:flex;flex-direction:column;gap:10px}
    button{height:48px;border:0;border-radius:10px;color:#fff;font-weight:600;font-size:16px;cursor:pointer}
    .btn-blue{background:var(--blue)}
    .btn-green{background:var(--green)}
    .btn-yellow{background:var(--yellow);color:#333}
    .row{display:flex;gap:10px}
    .sub{font-size:12px;color:var(--muted);margin-top:6px}
    .confirm{display:flex;align-items:center;gap:8px;margin-top:6px;font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <header><h1>OSC Control Hub</h1></header>
  <main>
    <!-- Quick Actions -->
    <section class="section">
      <h2>Quick Actions</h2>
      <div class="actions">
        <div>
          <button class="btn-yellow" onclick="triggerStorm()">‚ö° Trigger Storm</button>
          <div class="confirm">
            <input type="checkbox" id="stormConfirm" />
            <label for="stormConfirm">Require confirm before triggering</label>
          </div>
          <div class="sub">Sends <code>/storm/trigger</code> to the bridge. Adjust address if your ecosystem uses a different path.</div>
        </div>

        <div class="row">
          <button class="btn-green" onclick="sendOSC('/eye/reset', 1)">Home (All Eyes)</button>
          <button class="btn-blue"  onclick="sendOSC('/eye/idle', 1)">Run Idle Pattern</button>
        </div>
      </div>
    </section>

    <!-- Controllers -->
    <section class="section">
      <h2>Controllers</h2>
      <div class="grid">
        <a class="tile" href="/snail.html">
          <div>üêå</div>
          <div class="title">Snail Eyes</div>
          <div class="sub">Open the eye controller</div>
        </a>
        <!-- Add more tiles later, e.g., Gator, Panther, etc. -->
      </div>
    </section>
  </main>

  <script>
    // POST to your Node bridge at /osc. Value is optional; kept for bridge compatibility.
    function sendOSC(address, value = 1) {
      fetch('/osc', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ address, value })
      }).catch((err) => console.error(err));
    }

    function triggerStorm() {
      const needConfirm = document.getElementById('stormConfirm').checked;
      if (needConfirm && !confirm('Trigger Storm now?')) return;
      // Change this address if your receivers expect a different path
      sendOSC('/storm/trigger', 1);
    }
  </script>
</body>
</html>
