<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">

  <title>Gator Eye Controller</title>
  </head>
    <body>
      <main class="app-shell">
        <header>
          <a href="../main.html" style="text-decoration:none;"> <img class="home-btn" src="../images/home.png"> </a>
          <br>

          <h1>Gator Eye Controller</h1>
          <p>Tap to nudge each eye, then use Home or Idle to let the gator do its thing.</p>
        </header>

        <!-- ========================= Left/Right Controls ========================= -->
        <div class="lr-container">
          <section class="pad">
            <h2>
              Left Eye
              <span class="badge">Channel L</span>
            </h2>
            <div class="controls">
              <button class="eye-btn left" onclick="sendOSC('/eye/right/right', 1)">◀</button>
              <button class="eye-btn right" onclick="sendOSC('/eye/right/left', 1)">▶</button>
            </div>
          </section>

          <section class="pad">
            <h2>
              Right Eye
              <span class="badge">Channel R</span>
            </h2>
            <div class="controls">
              <button class="eye-btn left" onclick="sendOSC('/eye/left/right', 1)">◀</button>
              <button class="eye-btn right" onclick="sendOSC('/eye/left/left', 1)">▶</button>
            </div>
          </section>
        </div>
        <br>

        <!-- ========================== Up/Down Controls ========================== -->
        <div class="lr-container">
          <section class="pad">
            <h2>
              Up/Down
              <span class="badge">Channel</span>
            </h2>
            <div class="controls">
              <button class="eye-btn left" onclick="sendOSC('/gator/eye/up', 1)">⯅</button>
              <button class="eye-btn right" onclick="sendOSC('/gator/eye/down', 1)">▼</button>
            </div>
          </section>
        </div>
        <br>

        <!-- ======================== Global Controls ======================== -->
        <div class="container">
          <section class="pad-global">
            <h2>
              Global
              <span class="badge">Both</span>
            </h2>
            <div class="wide-stack">
              <button class="wide-btn home" onclick="sendOSC('/eye/reset', 1)">
                <span class="label-main">Home</span>
                <span class="label-sub">Center both eyes forward</span>
              </button>
              <button class="wide-btn idle" onclick="sendOSC('/eye/idle', 1)">
                <span class="label-main">Idle Pattern</span>
                <span class="label-sub">Let the snail do its thing</span>
              </button>
            </div>
          </section>
        </div>

        <div class="status-row">
          <span class="status-dot"></span>
          OSC bridge ready on <code>/osc</code>
        </div>
      </main>

      <script>
        // Send an OSC-like command via HTTP POST to the bridge server.
        function sendOSC(address, value) {
          fetch('/osc', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ address, value })
          }).catch((err) => console.error(err));
        }
      </script>
    </body>
  </html>
