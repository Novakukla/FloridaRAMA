<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Choose Your Mood ‚Äì Candy Matcher</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #3db489; /* green background like previous design */
      --card-bg: #f47948; /* orange card background */
      --btn-bg: #36a8de; /* blue button */
      --text-color: #fff; /* white text */
      --border-radius: 18px;
    }
    *, *::before, *::after {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 20px 12px 40px;
      min-height: 100vh;
      font-family: "Baloo 2", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin-top: 0;
      font-size: 2rem;
      margin-bottom: 20px;
    }
    .mood-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin: 0 auto 30px;   
      max-width: 720px;     
    }
    .mood-card {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 16px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      user-select: none;
    }
    .mood-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    .mood-card.selected {
      outline: 4px solid var(--btn-bg);
    }
    .mood-emoji {
      font-size: 2rem;
      margin-bottom: 8px;
    }
    .mood-label {
      font-size: 1rem;
      font-weight: 600;
    }
    .actions {
      text-align: center;
      margin-bottom: 20px;
    }
    .primary-btn {
      background: var(--btn-bg);
      color: #fff;
      border: none;
      border-radius: 999px;
      padding: 12px 24px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }
    .primary-btn:disabled {
      opacity: 0.5;
      cursor: default;
    }
    .result-card {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 20px;
      margin-top: 20px;
      text-align: center;
    }
    .result-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .result-item {
      margin-bottom: 12px;
      font-size: 1.2rem;
      font-weight: 600;
    }
    .error-message {
      color: #fcd34d;
      font-size: 0.9rem;
      margin-top: 8px;
    }

	@media (max-width: 640px) {
		.mood-grid {
			grid-template-columns: repeat(2, 1fr);
		}
		.desktop-only {
			display: none !important;
		}
		.mood-emoji {
		  font-size: 1.5rem;
		  margin-bottom: 8px;
		}
		.mood-label {
		  font-size: .75rem;
		  font-weight: 600;
		}
	}

  </style>
</head>
<body>
  <div class="container">
    <h1>Choose Your Mood</h1>
    <p style="text-align:center;margin-top:-10px;margin-bottom:20px;">Select up to two moods and we'll match the perfect candy for you!</p>
    <div class="mood-grid" id="moodGrid">
      <!-- Mood cards will be injected here by JS -->
    </div>
    <div class="actions">
      <button id="submitBtn" class="primary-btn" disabled>Find My Candy</button>
      <div id="errorMsg" class="error-message"></div>
    </div>
    <div id="resultContainer"></div>
  </div>
  <script>
    (function() {
      const moods = [
        { id:'happy', label:'Happy', emoji:'üòä', candies:['Skittles','Skittles tropical','Haribo Starmix','Gobstopper'] },

        { id:'adventurous', label:'Adventurous', emoji:'üåü', candies:['Skittles sour','Trolli','Nerds','Runts'] },

        { id:'nostalgic', label:'Nostalgic', emoji:'üï∞', candies:['Whoppers',"Reese's pieces",'Mallo Cup','Sugar Babies'] },

        { id:'romantic', label:'Romantic', emoji:'üíï', candies:['Snickers','Almond Joy','Carmello','Hersheys'] },

        { id:'creative', label:'Creative', emoji:'üé®', candies:['Razzles','Twix','Nerds','Jujyfruits'] },

        { id:'bold', label:'Bold', emoji:'üí™', candies:['Crunch','Snickers','Baby Ruth','Oh Henry'] },

        { id:'playful', label:'Playful', emoji:'ü§π', candies:["Reese's pieces",'Skittles','Runts','Gobstopper'] },

        { id:'relaxed', label:'Relaxed', emoji:'üòå', candies:['Twix','Almond Joy','Junior Mints','Carmello'] },

        // if you‚Äôre keeping energetic but hiding on mobile:
        { id:'energetic', label:'Energetic', emoji:'‚ö°', candies:['Trolli','Skittles sour','Red Hots','Nerds'] }
      ];


      const candyImages = {
        'Twix': 'https://static.wixstatic.com/media/400eb0_f07ff68f7eab489e96d13efedfb82e32~mv2.png',
        'Whoppers': 'https://static.wixstatic.com/media/400eb0_fb8fedeef8b441a6bf9b491a884cf8f0~mv2.png',
        'Skittles tropical': 'https://static.wixstatic.com/media/400eb0_2d711177fc67495590bbaa56dc5fc03a~mv2.png',
        'Skittles sour': 'https://static.wixstatic.com/media/400eb0_0c170a3304b643e7906d20a1afbf0a92~mv2.png',
        'Sour skittles': 'https://static.wixstatic.com/media/400eb0_0c170a3304b643e7906d20a1afbf0a92~mv2.png',
        'Snickers': 'https://static.wixstatic.com/media/400eb0_46b3941d42ce46dd96cb342396684dd1~mv2.png',
        'Skittles': 'https://static.wixstatic.com/media/400eb0_b0c51f2cfe2a410fa99f303f93e65c3f~mv2.png',
        'Crunch': 'https://static.wixstatic.com/media/400eb0_b94412d3a319444d938cd593b20a1b07~mv2.png',
        'Razzles': 'https://static.wixstatic.com/media/400eb0_b9e3ed49f11849e1b61b47650dee7338~mv2.png',
        "Reese's pieces": 'https://static.wixstatic.com/media/400eb0_afecddc748fe42dbb91811efe3d8bb66~mv2.png',
        'Reeses pieces': 'https://static.wixstatic.com/media/400eb0_f68242d20fef4a9987ac230afa2902ee~mv2.png',
        'Almond Joy': 'https://static.wixstatic.com/media/400eb0_19ee2fd9d53a482fa3f9ffd5ad110fc9~mv2.png',

        'Junior Mints': 'https://static.wixstatic.com/media/400eb0_6f11c191a0134c2bbcf4a1c71d983189~mv2.png',
		'Mallo Cup': 'https://static.wixstatic.com/media/400eb0_0fb2ea4973724c2bac194d5bfb4d1cd6~mv2.png',
		'Baby Ruth': 'https://static.wixstatic.com/media/400eb0_e1403c21ba6743de915ac88c582f7fd5~mv2.png',
		'Hersheys': 'https://static.wixstatic.com/media/400eb0_caa547c51af34e3bbccfc74ed8b98a74~mv2.png',
		'Sugar Babies': 'https://static.wixstatic.com/media/400eb0_c91bd9b196dc473a8ed0106e6f95d74d~mv2.png',
		'Carmello': 'https://static.wixstatic.com/media/400eb0_31650595429c4d8bb5a34cf2d7306dbe~mv2.png',
		'Jujyfruits': 'https://static.wixstatic.com/media/400eb0_30318c95fd6c4d7bbab694c19654d4df~mv2.png',
		'Oh Henry': 'https://static.wixstatic.com/media/400eb0_aa279c0e850e4ffb94c0249316fe8f08~mv2.png',
		'Haribo Starmix': 'https://static.wixstatic.com/media/400eb0_cfd39db7fa5f4518a4fae0de66ea5e92~mv2.png',
		'Gobstopper': 'https://static.wixstatic.com/media/400eb0_fe181b83a0b749c5bc961c5e3312d18e~mv2.png',
		'Red Hots': 'https://static.wixstatic.com/media/400eb0_2a1880f9f0394c4fad02c55a42a3d694~mv2.png',
		'Runts': 'https://static.wixstatic.com/media/400eb0_919e8f8300a54bc3a1487535c6f47974~mv2.png',
		'Trolli': 'https://static.wixstatic.com/media/400eb0_ab9feac700774a658ce9ddd4c7fe6960~mv2.png',
		'Nerds': 'https://static.wixstatic.com/media/400eb0_0350a7797e9945f6ab1ad0bed2fb80cf~mv2.png'
      };

      const moodGrid = document.getElementById('moodGrid');
      const submitBtn = document.getElementById('submitBtn');
      const errorMsg = document.getElementById('errorMsg');
      const resultContainer = document.getElementById('resultContainer');
      let selectedMoodIds = [];

      // Render mood cards
      moods.forEach((mood) => {
        const card = document.createElement('div');
        card.className = 'mood-card';
        if (mood.id === "energetic") card.classList.add("desktop-only");
        card.dataset.id = mood.id;
        card.innerHTML = `
          <div class="mood-emoji">${mood.emoji}</div>
          <div class="mood-label">${mood.label}</div>
        `;
        card.addEventListener('click', () => toggleMoodSelection(mood.id, card));
        moodGrid.appendChild(card);
      });

      function toggleMoodSelection(moodId, cardElement) {
        const index = selectedMoodIds.indexOf(moodId);
        if (index >= 0) {
          // already selected ‚Äì remove
          selectedMoodIds.splice(index, 1);
          cardElement.classList.remove('selected');
        } else {
          if (selectedMoodIds.length >= 2) {
            errorMsg.textContent = 'You can choose up to two moods only.';
            return;
          }
          selectedMoodIds.push(moodId);
          cardElement.classList.add('selected');
          errorMsg.textContent = '';
        }
        // enable submit button if there is at least one selection
        submitBtn.disabled = selectedMoodIds.length === 0;
      }

      function getRandomCandy(candyArray) {
        return candyArray[Math.floor(Math.random() * candyArray.length)];
      }

      function handleSubmit() {
        resultContainer.innerHTML = '';
        // Determine selected moods
        const selectedMoods = moods.filter((m) => selectedMoodIds.includes(m.id));
        if (selectedMoods.length === 0) {
          errorMsg.textContent = 'Please select at least one mood.';
          return;
        }
        // Build a single result based on selected moods
        const resultCard = document.createElement('div');
        resultCard.className = 'result-card';

        // Create a combined pool of candies from the selected moods
        let combinedCandies = [];
        selectedMoods.forEach((m) => {
          combinedCandies = combinedCandies.concat(m.candies);
        });

        // Choose one candy at random from the combined list
        const chosenCandy = getRandomCandy(combinedCandies);

        // Compose the result text. Include the names of the moods chosen for context.
        const moodNames = selectedMoods.map((m) => m.label).join(' + ');
        // Attempt to find an image for the selected candy.  If none exists,
        // only the text will be shown.
        const imageUrl = candyImages[chosenCandy];
        let resultHtml = `
          <h2>Your candy match</h2>
          <p><strong>${moodNames}</strong> ‚Üí ${chosenCandy}</p>
          <p style="margin-top:12px;">
            üç¨ <strong>Lucky for you!</strong> This is available in
            <strong>Lucy Sparrow‚Äôs Sugar Rush</strong>.
          </p>
          <p style="margin-top:8px;">
            <a href="https://www.floridarama.art/tickets" target="_blank"
               style="display:inline-block;margin-top:10px;padding:10px 18px;
                      background:#36a8de;color:#fff;border-radius:999px;
                      text-decoration:none;font-weight:600;">
              Get tickets now!
            </a>
          </p>
        `;

        if (imageUrl) {
          resultHtml += `<img src="${imageUrl}" alt="${chosenCandy}" style="display:block;margin:10px auto;max-width:200px;height:auto;" />`;
        }
        resultCard.innerHTML = resultHtml;
        resultContainer.appendChild(resultCard);
      }

      submitBtn.addEventListener('click', handleSubmit);
    })();
  </script>
</body>
</html>